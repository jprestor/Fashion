var gulp=require("gulp"),rename=require("gulp-rename"),plumber=require("gulp-plumber"),sass=require("gulp-sass"),minifyCss=require("gulp-csso"),postcss=require("gulp-postcss"),autoprefixer=require("autoprefixer"),mqpacker=require("css-mqpacker"),browserSync=require("browser-sync"),run=require("run-sequence");gulp.task("browserSync",function(){browserSync({server:"."})}),gulp.task("build",function(r){run("style","browserSync",r)}),gulp.task("style",function(){return gulp.src("./sass/**/*.scss").pipe(plumber()).pipe(sass().on("error",sass.logError)).pipe(postcss([autoprefixer({browsers:["last 1 version","last 2 Chrome versions","last 2 Firefox versions","last 2 Opera versions","last 2 Edge versions"]}),mqpacker({sort:!0})])).pipe(gulp.dest("./css")).pipe(rename("style.min.css")).pipe(minifyCss()).pipe(gulp.dest("./css")).pipe(browserSync.reload({stream:!0}))}),gulp.task("watch",["build"],function(){gulp.watch("sass/**/*.scss",["style"]),gulp.watch("*.html").on("change",browserSync.reload),gulp.watch("js/**/*.js",browserSync.reload)}),gulp.task("default",["watch"]);